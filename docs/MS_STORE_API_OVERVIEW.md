# Microsoft Store Submission API ì´í•´í•˜ê¸°
## ê°œì¸ Microsoft ê³„ì •ì„ ìœ„í•œ ì™„ì „ ê°€ì´ë“œ

ì´ ë¬¸ì„œëŠ” ê°œì¸ Microsoft ê³„ì •ìœ¼ë¡œ Microsoft Storeì— ì•±ì„ ë°°í¬í•  ë•Œ, Submission APIë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ Azure AD ì•± ë“±ë¡ì´ ì™œ í•„ìš”í•œì§€, ê·¸ë¦¬ê³  ì „ì²´ êµ¬ì¡°ê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## ëª©ì°¨
1. [í˜„ì¬ ìƒí™©](#í˜„ì¬-ìƒí™©)
2. [ì™œ Azure AD ì•± ë“±ë¡ì´ í•„ìš”í•œê°€?](#ì™œ-azure-ad-ì•±-ë“±ë¡ì´-í•„ìš”í•œê°€)
3. [ì „ì²´ êµ¬ì¡° ì´í•´í•˜ê¸°](#ì „ì²´-êµ¬ì¡°-ì´í•´í•˜ê¸°)
4. [ì¸ì¦ íë¦„](#ì¸ì¦-íë¦„)
5. [ë‹¨ê³„ë³„ í”„ë¡œì„¸ìŠ¤](#ë‹¨ê³„ë³„-í”„ë¡œì„¸ìŠ¤)
6. [ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°](#ë¹„ìœ ë¡œ-ì´í•´í•˜ê¸°)
7. [ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ](#ì‹¤ì œ-ì‚¬ìš©-ì˜ˆì‹œ)

---

## í˜„ì¬ ìƒí™©

### ìˆ˜ë™ ì—…ë¡œë“œ ë°©ì‹
- âœ… ê°œì¸ Microsoft ê³„ì • (dusskapark@hotmail.com)ìœ¼ë¡œ Partner Center ì‚¬ìš©
- âœ… ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ìˆ˜ë™ìœ¼ë¡œ ì•± íŒ¨í‚¤ì§€(MSI) ì—…ë¡œë“œ
- âŒ ë°˜ë³µì ì´ê³  ì‹œê°„ ì†Œëª¨ì ì¸ ì‘ì—…

### ìë™í™” ëª©í‘œ
- ğŸ¯ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ìë™ìœ¼ë¡œ Storeì— ì œì¶œ
- ğŸ¯ CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
- ğŸ¯ **Microsoft Store Submission API** ì‚¬ìš©

---

## ì™œ Azure AD ì•± ë“±ë¡ì´ í•„ìš”í•œê°€?

### ì§ˆë¬¸
> "ë‚˜ëŠ” ì´ë¯¸ ê°œì¸ Microsoft ê³„ì •ìœ¼ë¡œ Partner Centerì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ë°, ì™œ Azure AD ì•±ì„ ë§Œë“¤ì–´ì•¼ í•˜ë‚˜?"

### ë‹µë³€

**Microsoft Store Submission APIëŠ” OAuth 2.0 ì¸ì¦ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.**

#### ìˆ˜ë™ ë¡œê·¸ì¸ vs API ì¸ì¦

| ë°©ì‹ | ì¸ì¦ ë°©ë²• | ì‚¬ìš© ì‚¬ë¡€ |
|------|-----------|-----------|
| **ë¸Œë¼ìš°ì € (ìˆ˜ë™)** | ì‚¬ìš©ì ID/ë¹„ë°€ë²ˆí˜¸ â†’ ì¸í„°ë™í‹°ë¸Œ ë¡œê·¸ì¸ | ì‚¬ëŒì´ ì§ì ‘ ì‘ì—… |
| **API (ìë™)** | Client ID + Secret â†’ Access Token | ìŠ¤í¬ë¦½íŠ¸/ìë™í™” |

**APIëŠ” ì‚¬ìš©ì ID/ë¹„ë°€ë²ˆí˜¸ë¥¼ ë°›ì§€ ì•ŠìŠµë‹ˆë‹¤!**
- ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ ì‚¬ìš©ì ìê²©ì¦ëª…ì„ ìŠ¤í¬ë¦½íŠ¸ì— ì €ì¥í•  ìˆ˜ ì—†ìŒ
- ëŒ€ì‹  "ì• í”Œë¦¬ì¼€ì´ì…˜ ìê²©ì¦ëª…"ì„ ì‚¬ìš©
- ì´ê²ƒì´ ë°”ë¡œ **Azure AD ì•± ë“±ë¡**

---

## ì „ì²´ êµ¬ì¡° ì´í•´í•˜ê¸°

### 3ê°€ì§€ í•µì‹¬ ìš”ì†Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Azure AD          â”‚  â† ì¸ì¦ ì„œë²„ (Identity Provider)
â”‚   (ì¸ì¦ ë‹´ë‹¹)       â”‚     "ì´ ì•±ì´ ëˆ„êµ°ì§€ í™•ì¸í•´ì¤Œ"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“ Access Token ë°œê¸‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Azure AD ì•±       â”‚  â† ë¡œë´‡ ì§ì› (Application Identity)
â”‚   (ìë™í™” ë„êµ¬)     â”‚     "ë‚˜ëŠ” Client IDì™€ Secretì„ ê°€ì§„ ì•±ì´ì—ìš”"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“ Tokenì„ ê°€ì§€ê³  API í˜¸ì¶œ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Partner Center    â”‚  â† ë¦¬ì†ŒìŠ¤ ì„œë²„ (Resource Owner)
â”‚   (ì•± ì €ì¥ì†Œ)       â”‚     "Token í™•ì¸ í›„ ê¶Œí•œì— ë”°ë¼ ì‘ì—… ìˆ˜í–‰"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê° ìš”ì†Œì˜ ì—­í• 

#### 1. Azure AD (Azure Active Directory / Entra ID)
- **ì—­í• **: ì¸ì¦ ì„œë²„
- **ê¸°ëŠ¥**: 
  - ì•±ì˜ ì‹ ì› í™•ì¸
  - Access Token ë°œê¸‰
  - ê¶Œí•œ ê´€ë¦¬
- **ë¹„ìœ **: íšŒì‚¬ HR ë¶€ì„œ (ì§ì› ì‹ ì› í™•ì¸)

#### 2. Azure AD ì•± ë“±ë¡
- **ì—­í• **: ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹ ì›
- **êµ¬ì„± ìš”ì†Œ**:
  - `Client ID`: ì•±ì˜ ê³ ìœ  ID (ê³µê°œ ê°€ëŠ¥)
  - `Client Secret`: ì•±ì˜ ë¹„ë°€ í‚¤ (ì ˆëŒ€ ê³µê°œ ë¶ˆê°€)
  - `Tenant ID`: ì¡°ì§(ë””ë ‰í† ë¦¬) ID
- **ë¹„ìœ **: ë¡œë´‡ ì§ì› (ìë™í™” ë„êµ¬)

#### 3. Partner Center
- **ì—­í• **: ë¦¬ì†ŒìŠ¤ ì„œë²„
- **ê¸°ëŠ¥**:
  - ì•± íŒ¨í‚¤ì§€ ì €ì¥
  - ì œì¶œ(Submission) ê´€ë¦¬
  - ì•± ë©”íƒ€ë°ì´í„° ê´€ë¦¬
- **ë¹„ìœ **: íšŒì‚¬ ì—…ë¬´ ì‹œìŠ¤í…œ

---

## ì¸ì¦ íë¦„

### OAuth 2.0 Client Credentials Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1. Token ìš”ì²­
         â”‚    - Tenant ID
         â”‚    - Client ID
         â”‚    - Client Secret
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Azure AD      â”‚
â”‚  (ë¡œê·¸ì¸ ì„œë²„)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 2. ì‹ ì› í™•ì¸ í›„
         â”‚    Access Token ë°œê¸‰
         â”‚    (60ë¶„ ìœ íš¨)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 3. API í˜¸ì¶œ
         â”‚    - Authorization: Bearer {token}
         â”‚    - Application ID
         â”‚    - Submission ë°ì´í„°
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Partner Center  â”‚
â”‚ Submission API  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 4. Token ê²€ì¦
         â”‚    - ìœ íš¨í•œê°€?
         â”‚    - ê¶Œí•œì´ ìˆëŠ”ê°€?
         â”‚    - ì´ ì•±ì— ì ‘ê·¼ ê°€ëŠ¥í•œê°€?
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì‘ë‹µ          â”‚
â”‚ (ì„±ê³µ/ì‹¤íŒ¨)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìƒì„¸ ë‹¨ê³„

#### Step 1: Token ìš”ì²­
```http
POST https://login.microsoftonline.com/{tenant_id}/oauth2/v2.0/token
Content-Type: application/x-www-form-urlencoded

client_id={YOUR_CLIENT_ID}
&client_secret={YOUR_CLIENT_SECRET}
&scope=https://manage.devcenter.microsoft.com/.default
&grant_type=client_credentials
```

#### Step 2: Token ì‘ë‹µ
```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbG...",
  "token_type": "Bearer",
  "expires_in": 3599
}
```

#### Step 3: API í˜¸ì¶œ
```http
POST https://manage.devcenter.microsoft.com/v1.0/my/applications/{app_id}/submissions
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbG...
Content-Type: application/json

{
  "applicationPackages": [...]
}
```

---

## ë‹¨ê³„ë³„ í”„ë¡œì„¸ìŠ¤

### ì „ì²´ ì„¤ì • íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1ë‹¨ê³„: Azure AD ì•± ë“±ë¡ ìƒì„±                                 â”‚
â”‚    â†’ Azure Portal ë˜ëŠ” CLIì—ì„œ ì•± ë“±ë¡                       â”‚
â”‚    â†’ Client ID í™•ë³´                                          â”‚
â”‚    â†’ Client Secret ìƒì„±                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2ë‹¨ê³„: Partner Centerì— Azure AD ì•± ì—°ê²° â­ ì¤‘ìš”!           â”‚
â”‚    â†’ Partner Center â†’ Account Settings â†’ Users              â”‚
â”‚    â†’ Azure AD applications íƒ­                               â”‚
â”‚    â†’ Client ID ì…ë ¥                                          â”‚
â”‚    â†’ ì—­í•  ë¶€ì—¬ (Manager ê¶Œí•œ)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3ë‹¨ê³„: í™˜ê²½ ë³€ìˆ˜ ì„¤ì •                                        â”‚
â”‚    â†’ .env íŒŒì¼ì— ì €ì¥:                                       â”‚
â”‚       MS_STORE_TENANT_ID                                     â”‚
â”‚       MS_STORE_CLIENT_ID                                     â”‚
â”‚       MS_STORE_CLIENT_SECRET                                 â”‚
â”‚       MS_STORE_APPLICATION_ID                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4ë‹¨ê³„: ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰                                         â”‚
â”‚    â†’ build-windows-store.ps1 -UploadToStore                 â”‚
â”‚    â†’ ìë™ìœ¼ë¡œ Token íšë“ â†’ API í˜¸ì¶œ â†’ ì œì¶œ ì™„ë£Œ             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### â­ í•µì‹¬: 2ë‹¨ê³„ê°€ ì—†ìœ¼ë©´ ì‘ë™í•˜ì§€ ì•ŠìŒ!

Azure AD ì•±ì„ ë§Œë“¤ì—ˆë‹¤ê³  í•´ì„œ ë°”ë¡œ Partner Center APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ **ì•„ë‹™ë‹ˆë‹¤**.

**ë°˜ë“œì‹œ Partner Centerì—ì„œ ì´ Azure AD ì•±ì„ "ìŠ¹ì¸"í•´ì•¼ í•©ë‹ˆë‹¤.**

#### ì™œ ì´ ë‹¨ê³„ê°€ í•„ìš”í•œê°€?

```
Azure AD ì•±ì„ ë§Œë“¦
   â†’ "ì €ëŠ” dusskapark_hotmail.com í…Œë„ŒíŠ¸ì˜ ì•±ì…ë‹ˆë‹¤"
   
BUT!
   
Partner CenterëŠ” ì•„ì§ ì´ ì•±ì„ ëª¨ë¦„
   â†’ "ë„ˆê°€ ëˆ„êµ°ë°? ìš°ë¦¬ ê³„ì •ì— ì ‘ê·¼í•˜ë ¤ê³ ?"
   
Partner Centerì— ì•± ë“±ë¡
   â†’ "ì•„, ì´ Client IDëŠ” ìš°ë¦¬ê°€ ìŠ¹ì¸í•œ ì•±ì´êµ¬ë‚˜!"
   â†’ "Manager ê¶Œí•œì„ ì¤¬ìœ¼ë‹ˆ ì œì¶œ ê´€ë¦¬ë¥¼ í•  ìˆ˜ ìˆì–´"
```

---

## ë¹„ìœ ë¡œ ì´í•´í•˜ê¸°

### íšŒì‚¬ ì—…ë¬´ ì‹œìŠ¤í…œ ë¹„ìœ 

#### ìƒí™©
ë‹¹ì‹ ì€ íšŒì‚¬(Partner Center)ì˜ ì—…ë¬´ ì‹œìŠ¤í…œì— ë§¤ì¼ ì¶œê·¼í•´ì„œ ìˆ˜ë™ìœ¼ë¡œ ì‘ì—…(ì•± ì—…ë¡œë“œ)ì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ì œ ë¡œë´‡ ì§ì›(ìë™í™” ìŠ¤í¬ë¦½íŠ¸)ì„ ê³ ìš©í•´ì„œ ìë™ìœ¼ë¡œ ì‘ì—…í•˜ê²Œ ë§Œë“¤ê³  ì‹¶ìŠµë‹ˆë‹¤.

#### ê³¼ì •

| ë‹¨ê³„ | ì‹¤ì œ ì‘ì—… | ë¹„ìœ  |
|------|-----------|------|
| **1. ë¡œë´‡ ì œì‘** | Azure AD ì•± ë“±ë¡ | ë¡œë´‡ ì§ì› ì œì‘ (IDì¹´ë“œ ë°œê¸‰) |
| **2. íšŒì‚¬ì— ê³ ìš©** | Partner Centerì— ì•± ì—°ê²° | ë¡œë´‡ì„ íšŒì‚¬ ì‹œìŠ¤í…œì— ë“±ë¡ |
| **3. ê¶Œí•œ ë¶€ì—¬** | Manager ì—­í•  í• ë‹¹ | ë¡œë´‡ì—ê²Œ ì—…ë¬´ ê¶Œí•œ ë¶€ì—¬ |
| **4. ì¶œê·¼** | ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ â†’ Token ìš”ì²­ | ë¡œë´‡ì´ IDì¹´ë“œë¡œ ì¶œê·¼ |
| **5. ì‹ ì› í™•ì¸** | Azure ADê°€ Token ë°œê¸‰ | ê²½ë¹„ì‹¤ì—ì„œ IDì¹´ë“œ í™•ì¸ |
| **6. ì—…ë¬´ ìˆ˜í–‰** | APIë¡œ ì œì¶œ ìƒì„± | ì‹œìŠ¤í…œì— ë¡œê·¸ì¸í•´ì„œ ì‘ì—… |

#### í•µì‹¬ í¬ì¸íŠ¸

- ë¡œë´‡ì„ ë§Œë“¤ê¸°ë§Œ í•˜ë©´ ì•ˆ ë¨ (Azure AD ì•±ë§Œ ë§Œë“¤ë©´ ì•ˆ ë¨)
- **íšŒì‚¬ì— ì •ì‹ìœ¼ë¡œ ê³ ìš©í•´ì•¼ í•¨** (Partner Centerì— ì—°ê²°)
- ê³ ìš©í•˜ë©´ì„œ ê¶Œí•œì„ ë¶€ì—¬í•´ì•¼ í•¨ (Manager ì—­í• )
- ê·¸ë˜ì•¼ ë¡œë´‡ì´ íšŒì‚¬ ì‹œìŠ¤í…œ(Partner Center API)ì— ì ‘ê·¼ ê°€ëŠ¥

---

## ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

### í™˜ê²½ ë³€ìˆ˜ (`.env` íŒŒì¼)

```env
# Azure AD í…Œë„ŒíŠ¸ ID (ë””ë ‰í† ë¦¬ ID)
MS_STORE_TENANT_ID=373da59a-5488-433a-ad1b-110cfc47835c

# Azure AD ì•± í´ë¼ì´ì–¸íŠ¸ ID
MS_STORE_CLIENT_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# Azure AD ì•± í´ë¼ì´ì–¸íŠ¸ ì‹œí¬ë¦¿
MS_STORE_CLIENT_SECRET=xxxx~xxxxxxxxxxxxxxxxxxxxxxxxx

# Partner Center ì•± ID (ì˜ˆ: 9WZDNCRDXXXX)
MS_STORE_APPLICATION_ID=9WZDNCRDXXXX
```

### PowerShell ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©

```powershell
# 1. í™˜ê²½ ë³€ìˆ˜ ë¡œë“œ
. .\scripts\Load-DotEnv.ps1
Load-DotEnv

# 2. ë¹Œë“œ ë° Store ì œì¶œ
.\scripts\build-windows-store.ps1 -UploadToStore

# ë‚´ë¶€ ë™ì‘:
# - Azure ADì—ì„œ Access Token ìš”ì²­
#   â†’ Tenant ID, Client ID, Client Secret ì‚¬ìš©
# - Token íšë“ (60ë¶„ ìœ íš¨)
# - Store Submission API í˜¸ì¶œ
#   â†’ Authorization: Bearer {token}
# - ì œì¶œ ìƒì„± ë° íŒ¨í‚¤ì§€ ì—…ë¡œë“œ
```

### ìŠ¤í¬ë¦½íŠ¸ ë‚´ë¶€ íë¦„ (`submit-to-store.ps1`)

```powershell
# Step 1: Token íšë“
function Get-MSAccessToken {
    $tokenUrl = "https://login.microsoftonline.com/$TenantId/oauth2/v2.0/token"
    
    $body = @{
        client_id     = $ClientId
        client_secret = $ClientSecret
        scope         = "https://manage.devcenter.microsoft.com/.default"
        grant_type    = "client_credentials"
    }
    
    $response = Invoke-RestMethod -Uri $tokenUrl -Method Post -Body $body
    return $response.access_token
}

# Step 2: Submission ìƒì„±
function Get-StoreSubmission {
    param($AccessToken, $ApplicationId)
    
    $headers = @{
        "Authorization" = "Bearer $AccessToken"
        "Content-Type"  = "application/json"
    }
    
    $url = "https://manage.devcenter.microsoft.com/v1.0/my/applications/$ApplicationId/submissions"
    
    $response = Invoke-RestMethod -Uri $url -Method Post -Headers $headers
    return $response
}

# Step 3: íŒ¨í‚¤ì§€ ì—…ë¡œë“œ
# Step 4: Commit (ì„ íƒ)
```

---

## ìš”ì•½

### í•µì‹¬ ê°œë…

1. **APIëŠ” ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ë°›ì§€ ì•ŠëŠ”ë‹¤**
   - OAuth 2.0 Client Credentials Flow ì‚¬ìš©
   - ì• í”Œë¦¬ì¼€ì´ì…˜ ìê²©ì¦ëª… í•„ìš”

2. **Azure AD ì•± = ìë™í™”ë¥¼ ìœ„í•œ ë¡œë´‡ ì§ì›**
   - Client ID: ë¡œë´‡ì˜ ì´ë¦„í‘œ
   - Client Secret: ë¡œë´‡ì˜ ë¹„ë°€í‚¤
   - Tenant ID: ë¡œë´‡ì´ ì†í•œ ì¡°ì§

3. **Partner Center ì—°ê²°ì€ í•„ìˆ˜**
   - Azure AD ì•±ë§Œ ë§Œë“¤ë©´ ì•ˆ ë¨
   - Partner Centerì—ì„œ ëª…ì‹œì ìœ¼ë¡œ ìŠ¹ì¸ í•„ìš”
   - ê¶Œí•œ(ì—­í• ) ë¶€ì—¬ í•„ìš”

4. **ì „ì²´ íë¦„**
   ```
   ì•± ë“±ë¡ â†’ Partner Center ì—°ê²° â†’ ê¶Œí•œ ë¶€ì—¬ â†’ Token íšë“ â†’ API í˜¸ì¶œ
   ```

### í•„ìˆ˜ ë‹¨ê³„ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Azure Portalì— ë¡œê·¸ì¸ (ê°œì¸ Microsoft ê³„ì •)
- [ ] Azure ADì—ì„œ ì•± ë“±ë¡ ìƒì„±
- [ ] Client ID ë³µì‚¬
- [ ] Client Secret ìƒì„± ë° ë³µì‚¬
- [ ] Tenant ID í™•ì¸
- [ ] **Partner Center â†’ Account Settings â†’ Users â†’ Azure AD applications**
- [ ] **Client ID ì…ë ¥ ë° Manager ì—­í•  ë¶€ì—¬** â­
- [ ] Partner Centerì—ì„œ Application ID í™•ì¸
- [ ] `.env` íŒŒì¼ì— ëª¨ë“  ê°’ ì €ì¥
- [ ] ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ë° í…ŒìŠ¤íŠ¸

---

## ë‹¤ìŒ ë‹¨ê³„

ì´ì œ ê°œë…ì„ ì´í•´í–ˆë‹¤ë©´, ì‹¤ì œ ì„¤ì •ì„ ì§„í–‰í•˜ì„¸ìš”:

1. **[Azure ì •ë¦¬ ê°€ì´ë“œ](./AZURE_CLEANUP_AND_FIND_TENANT.md)** - ë¶ˆí•„ìš”í•œ í…Œë„ŒíŠ¸ ì •ë¦¬
2. **[Partner Center ì„¤ì • ê°€ì´ë“œ](./PARTNER_CENTER_SETUP.md)** - ì‹¤ì œ ì„¤ì • ë‹¨ê³„ë³„ ê°€ì´ë“œ

---

## ì°¸ê³  ìë£Œ

- [Microsoft Store Submission API ê³µì‹ ë¬¸ì„œ](https://learn.microsoft.com/en-us/windows/apps/publish/store-submission-api)
- [Azure AD OAuth 2.0 Client Credentials Flow](https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-client-creds-grant-flow)
- [Partner Center API ì¸ì¦](https://learn.microsoft.com/en-us/windows/apps/publish/create-and-manage-submissions-using-windows-store-services#obtain-an-azure-ad-access-token)

